!function(t){var e=document.addEventListener||document.attachEvent,n=document.removeEventListener?"removeEventListener":"detachEvent",i=document.addEventListener?"DOMContentLoaded":"onreadystatechange";e.call(document,i,function(){document[n](i,arguments.callee,!1),t()},!1)}(function(){for(var t=document.body,e=t.childNodes[0];null!=e;)if(3==e.nodeType&&(e.nodeValue=e.nodeValue.replace(/(\W|^)"(\S)/g,"$1“$2").replace(/(\u201c[^"]*)"([^"]*$|[^\u201c"]*\u201c)/g,"$1”$2").replace(/([^0-9])"/g,"$1”").replace(/(\W|^)'(\S)/g,"$1‘$2").replace(/([a-z])'([a-z])/gi,"$1’$2").replace(/((\u2018[^']*)|[a-z])'([^0-9]|$)/gi,"$1’$3").replace(/(\u2018)([0-9]{2}[^\u2019]*)(\u2018([^0-9]|$)|$|\u2019[a-z])/gi,"’$2$3").replace(/(\B|^)\u2018(?=([^\u2019]*\u2019\b)*([^\u2019\u2018]*\W[\u2019\u2018]\b|[^\u2019\u2018]*$))/gi,"$1’").replace(/'''/g,"‴").replace(/("|'')/g,"″").replace(/'/g,"′")),e.hasChildNodes()&&"CODE"!=e.firstChild.nodeName)e=e.firstChild;else do{for(;null==e.nextSibling&&e!=t;)e=e.parentNode;e=e.nextSibling}while(e&&("CODE"==e.nodeName||"SCRIPT"==e.nodeName||"STYLE"==e.nodeName))}),!function(t,e){"use strict";function n(t){this.callback=t,this.ticking=!1}function i(e){return e&&"undefined"!=typeof t&&(e===t||e.nodeType)}function o(t){if(arguments.length<=0)throw new Error("Missing arguments in extend function");var e,n,s=t||{};for(n=1;n<arguments.length;n++){var a=arguments[n]||{};for(e in a)s[e]="object"!=typeof s[e]||i(s[e])?s[e]||a[e]:o(s[e],a[e])}return s}function s(t){return t===Object(t)?t:{down:t,up:t}}function a(t,e){e=o(e,a.options),this.lastKnownScrollY=0,this.elem=t,this.debouncer=new n(this.update.bind(this)),this.tolerance=s(e.tolerance),this.classes=e.classes,this.offset=e.offset,this.scroller=e.scroller,this.initialised=!1,this.onPin=e.onPin,this.onUnpin=e.onUnpin,this.onTop=e.onTop,this.onNotTop=e.onNotTop}var r={bind:!!function(){}.bind,classList:"classList"in e.documentElement,rAF:!!(t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame)};t.requestAnimationFrame=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,n.prototype={constructor:n,update:function(){this.callback&&this.callback(),this.ticking=!1},requestTick:function(){this.ticking||(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},handleEvent:function(){this.requestTick()}},a.prototype={constructor:a,init:function(){return a.cutsTheMustard?(this.elem.classList.add(this.classes.initial),setTimeout(this.attachEvent.bind(this),100),this):void 0},destroy:function(){var t=this.classes;this.initialised=!1,this.elem.classList.remove(t.unpinned,t.pinned,t.top,t.initial),this.scroller.removeEventListener("scroll",this.debouncer,!1)},attachEvent:function(){this.initialised||(this.lastKnownScrollY=this.getScrollY(),this.initialised=!0,this.scroller.addEventListener("scroll",this.debouncer,!1),this.debouncer.handleEvent())},unpin:function(){var t=this.elem.classList,e=this.classes;(t.contains(e.pinned)||!t.contains(e.unpinned))&&(t.add(e.unpinned),t.remove(e.pinned),this.onUnpin&&this.onUnpin.call(this))},pin:function(){var t=this.elem.classList,e=this.classes;t.contains(e.unpinned)&&(t.remove(e.unpinned),t.add(e.pinned),this.onPin&&this.onPin.call(this))},top:function(){var t=this.elem.classList,e=this.classes;t.contains(e.top)||(t.add(e.top),t.remove(e.notTop),this.onTop&&this.onTop.call(this))},notTop:function(){var t=this.elem.classList,e=this.classes;t.contains(e.notTop)||(t.add(e.notTop),t.remove(e.top),this.onNotTop&&this.onNotTop.call(this))},getScrollY:function(){return void 0!==this.scroller.pageYOffset?this.scroller.pageYOffset:void 0!==this.scroller.scrollTop?this.scroller.scrollTop:(e.documentElement||e.body.parentNode||e.body).scrollTop},getViewportHeight:function(){return t.innerHeight||e.documentElement.clientHeight||e.body.clientHeight},getDocumentHeight:function(){var t=e.body,n=e.documentElement;return Math.max(t.scrollHeight,n.scrollHeight,t.offsetHeight,n.offsetHeight,t.clientHeight,n.clientHeight)},getElementHeight:function(t){return Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)},getScrollerHeight:function(){return this.scroller===t||this.scroller===e.body?this.getDocumentHeight():this.getElementHeight(this.scroller)},isOutOfBounds:function(t){var e=0>t,n=t+this.getViewportHeight()>this.getScrollerHeight();return e||n},toleranceExceeded:function(t,e){return Math.abs(t-this.lastKnownScrollY)>=this.tolerance[e]},shouldUnpin:function(t,e){var n=t>this.lastKnownScrollY,i=t>=this.offset;return n&&i&&e},shouldPin:function(t,e){var n=t<this.lastKnownScrollY,i=t<=this.offset;return n&&e||i},update:function(){var t=this.getScrollY(),e=t>this.lastKnownScrollY?"down":"up",n=this.toleranceExceeded(t,e);this.isOutOfBounds(t)||(t<=this.offset?this.top():this.notTop(),this.shouldUnpin(t,n)?this.unpin():this.shouldPin(t,n)&&this.pin(),this.lastKnownScrollY=t)}},a.options={tolerance:{up:0,down:0},offset:0,scroller:t,classes:{pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",initial:"headroom"}},a.cutsTheMustard="undefined"!=typeof r&&r.rAF&&r.bind&&r.classList,t.Headroom=a}(window,document);var scratchApp=function($){function t(){var t=$(".post-content",!0);if(t){var e=t.lastElementChild;if("P"===e.nodeName){var n=document.createTextNode(" ∎");e.appendChild(n)}}}function e(t){var e=t[0].offsetWidth,n=t[0].parentNode.offsetWidth;if(e!==n)for(var i=0;i<t.length;i++){var o=t[i],s=o.dataset?o.dataset.aspectRatio:o.getAttribute("data-aspect-ratio");o.style.width=n+"px",o.style.height=n*s+"px"}}function n(){var t=document.querySelectorAll('iframe[src*="//www.youtube.com"], iframe[src*="//player.vimeo.com"]');if(t.length){for(var n=0;n<t.length;n++){var i=t[n],o=i.height/i.width;i.dataset?i.dataset.aspectRatio=o:i.setAttribute("data-aspect-ratio",o),i.removeAttribute("height"),i.removeAttribute("width"),i.style.height=i.offsetWidth*o+"px"}r=window.setInterval(function(){e(t)},500)}}function i(t,e,n){function i(t){var e=0;do isNaN(t.offsetTop)||(e+=t.offsetTop),t=t.offsetParent;while(t);return e}function o(t){return.5>t?2*t*t:-1+(4-2*t)*t}function s(){u+=d,f=u/e,f=f>1?1:f,m=l+h*o(f),window.scrollTo(0,Math.floor(m)),a(m,c,p)}function a(t,e,i){(1===f||window.innerHeight+m>=document.height)&&(clearInterval(i),n&&n())}function r(){p=setInterval(s,d)}var c=i(t),l=window.pageYOffset,u=0,h=c-l,d=16,m,f,p;e=e||500,r()}function o(t){t.preventDefault();var e=t.target.href.split("#")[1],n=document.getElementById(e);n&&i(n,800)}function s(){function t(t){var n=e[t];n.getElementsByTagName("img")[0].onload=function(){n.style.width=n.getElementsByTagName("img")[0].offsetWidth+"px"}}var e=document.getElementsByClassName("caption");if(e.length)for(var n=0;n<e.length;n++)t(n)}function a(){t(),s(),n(),Headroom.options.tolerance={up:15,down:0};var e=new Headroom($(".main-nav"));e.init();var i=$(".scroll-down");i&&i.addEventListener("click",o)}var r;return{init:a}}(function(){var t={};return function(e){var n=t[e];return n||(n=document.querySelector(e),t[e]=n),n}}());scratchApp.init(),function(){for(var t=0,e=["ms","moz","webkit","o"],n=0;n<e.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var n=(new Date).getTime(),i=Math.max(0,16-(n-t)),o=window.setTimeout(function(){e(n+i)},i);return t=n+i,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}();